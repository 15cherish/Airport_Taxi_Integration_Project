CREATE OR REPLACE PROCEDURE FCODE_INFO (DOT DATE,F_CODE VARCHAR2 ) AS
CURSOR PASSINDETAILS is
select fl.FLIGHT_CODE,p2.FNAME,t.TICKET_NUMBER,T.DATE_OF_TRAVEL,P2.PASSPORTNO
from Flight fl,PASSENGER1 p1,PASSENGER2 p2 ,PASSENGER3 p3,TICKET1 t
where fl.FLIGHT_CODE = p3.FLIGHT_CODE
AND P3.PID = P1.PID
AND P2.PASSPORTNO = P1.PASSPORTNO
AND T.PID= P1.PID
AND T.DATE_OF_TRAVEL = DOT
AND FL.FLIGHT_CODE = F_CODE;

PASSDETAILS PASSINDETAILS%rowtype;

BEGIN

Open PASSINDETAILS ;
LOOP
fetch PASSINDETAILS into PASSDETAILS;
EXIT WHEN PASSINDETAILS%NOTFOUND;
dbms_output.put_line (PASSDETAILS.FLIGHT_CODE || '  ' || PASSDETAILS.FNAME || '  ' ||
PASSDETAILS.TICKET_NUMBER|| '  ' ||PASSDETAILS.PASSPORTNO || '  ' || PASSDETAILS.DATE_OF_TRAVEL);

END LOOP;
 close PASSINDETAILS;

END;

declare
DOT DATE;
F_CODE VARCHAR(20) ;
begin
DOT := '25-DEC-16';
f_code := '9W2334';
fcode_info(DOT,F_CODE);
end;
