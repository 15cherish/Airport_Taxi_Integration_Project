CREATE OR REPLACE TRIGGER DELAYEDFLIGHTS
AFTER INSERT ON FLIGHT
FOR EACH ROW
when ( new.status = 'Delayed')
DECLARE
HI DELAYED_FLIGHTS.REPORT_TIME%TYPE;
BEGIN
SELECT (to_CHAR(sysdate , 'HH24:MI')) INTO HI FROM DUAL;
insert into delayed_flights (FLIGHT_CODE, SOURCE, DESTINATION , AIRLINEID ,report_time)
values(:new.flight_code,:new.source,:new.destination,:new.airlineid,HI);
END;

CREATE TABLE DELAYED_FLIGHTS
(           FLIGHT_CODE VARCHAR2(20 ),
DESTINATION VARCHAR2(20),
SOURCE VARCHAR2(20),
AIRLINEID VARCHAR2(20),
REPORT_TIME VARCHAR(20)
);

INSERT INTO FLIGHT(FLIGHT_CODE, SOURCE, DESTINATION, ARRIVAL, DEPARTURE, STATUS, DURATION, FLIGHTTYPE, AIRLINEID)
VALUES('A7','BOM','DFW','02:10','03:15','Delayed','24hr','Connecting','AI');
select * from delayed_flights
